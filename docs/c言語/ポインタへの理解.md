## ポインタとは？
変数の住所(アドレス)を記憶する変数

## 何がいいの？
理解できるとできることの幅が広がる！
1. [関数で複数の値を返せる](###関数で複数の値を返せる)
2. [動的メモリ確保ができる](###動的メモリ確保ができる)
3. [ライブラリを作る時](###他のファイルから)


### 関数で複数の値を返せる
関数で計算した値や処理した値を複数返したい時あるよね！
そんな時はポインタを使ってこう書く
~~~c
#include <stdio.h>

// 商と余りを返す関数
void divide(int a, int b, int *quotient, int *remainder) {
    if (b == 0) {
        printf("エラー: 0で割ることはできません。\n");
        return;
    }
    *quotient = a / b;   // ポインタを使って呼び出し元の変数に代入
    *remainder = a % b;
}

int main() {
    int a = 17, b = 5;
    int q, r;

    divide(a, b, &q, &r);  // &でアドレスを渡す

    printf("%d ÷ %d = 商 %d, 余り %d\n", a, b, q, r);

    return 0;
}

~~~

### 動的メモリ確保ができる

~~~c
#include <stdio.h>
#include <stdlib.h>

int main() {
  int n;
  printf("要素数をにゅうりょくしてください\n");
  scanf("%d", &n);
  
  int *arr = malloc(n * sizeof(int) );
  for (int i = 0; i < n; i++) arr[i] = i * i;
 
  for (int i = 0; i < n; i++) {
    printf("%d", arr[i]);
    printf("\n");  
  }
    
  free(arr);
  
  return 0;
}
~~~
mallocでメモリを動的確保する。
(int型でn個の要素を持つ配列)

### 他のファイルから
mbedでの例
~~~cpp
class encoder {
    public:
    encoder(PinName A, PinName B);
    
    private:
    // 他のコード
};
~~~

~~~cpp
class encoder_value_to_deg {
    public:
    encoder_value_to_deg(encoder *enc_data, int encoder max = 8192);
    
    // その他のコード
};
~~~

~~~cpp
#include “encoder.h”

const int encoder_max = 16384;
encoder my_encoder(PB_10, PA_7);
encoder_value_to_deg deg(&my_encoder, encoder_max);
// ここでmy_encoderのアドレスを渡すことでencoder_value_to_degの中の処理でmy_encoderが返すエンコーダのデータを使うことができる。
~~~

[return](C言語.md)